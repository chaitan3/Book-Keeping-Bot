from pylab import *
from sim import simulate

l = 10.0

#Destination
dests = array([
[0.0, 0.0], [0.10000000000000001, 1.4106735979665885], [0.20000000000000001, 1.9899748742132399], [0.30000000000000004, 2.4310491562286436], [0.40000000000000002, 2.8000000000000003], [0.5, 3.1224989991991992], [0.60000000000000009, 3.4117444218463961], [0.70000000000000007, 3.6755951898978214], [0.80000000000000004, 3.9191835884530848], [0.90000000000000002, 4.1460824883255762], [1.0, 4.358898943540674], [1.1000000000000001, 4.5596052460711993], [1.2000000000000002, 4.7497368348151676], [1.3, 4.9305172142484199], [1.4000000000000001, 5.1029403288692299], [1.5, 5.2678268764263692], [1.6000000000000001, 5.4258639865002145], [1.7000000000000002, 5.5776339069537366], [1.8, 5.7236352085016735], [1.9000000000000001, 5.8642987645583], [2.0, 6.0], [2.1000000000000001, 6.1310684223877319], [2.2000000000000002, 6.2577951388648065], [2.3000000000000003, 6.3804388563797083], [2.4000000000000004, 6.4992307237087692], [2.5, 6.6143782776614763], [2.6000000000000001, 6.726068688320094], [2.7000000000000002, 6.8344714499367107], [2.8000000000000003, 6.9397406291589894], [2.9000000000000004, 7.0420167565833021], [3.0, 7.1414284285428504], [3.1000000000000001, 7.238093671679029], [3.2000000000000002, 7.3321211119293448], [3.3000000000000003, 7.4236109811869859], [3.4000000000000004, 7.5126559883971797], [3.5, 7.5993420767853319], [3.6000000000000001, 7.6837490849194188], [3.7000000000000002, 7.7659513261415691], [3.8000000000000003, 7.8460180983732126], [3.9000000000000004, 7.9240141342630137], [4.0, 8.0], [4.1000000000000005, 8.0740324497737799], [4.2000000000000002, 8.1461647417665208], [4.2999999999999998, 8.2164469206585871], [4.4000000000000004, 8.2849260708831913], [4.5, 8.3516465442450336], [4.6000000000000005, 8.4166501650003251], [4.7000000000000002, 8.4799764150615431], [4.8000000000000007, 8.541662601625049], [4.9000000000000004, 8.6017440092111563], [5.0, 8.6602540378443873], [5.1000000000000005, 8.7172243288790039], [5.2000000000000002, 8.7726848797845243], [5.3000000000000007, 8.8266641490429443], [5.4000000000000004, 8.8791891521692463], [5.5, 8.9302855497458751], [5.6000000000000005, 8.9799777282574595], [5.7000000000000002, 9.0282888744213317], [5.8000000000000007, 9.0752410436307418], [5.9000000000000004, 9.1208552230588555], [6.0, 9.1651513899116797], [6.1000000000000005, 9.2081485652654411], [6.2000000000000002, 9.2498648638777414], [6.3000000000000007, 9.2903175403212135], [6.4000000000000004, 9.3295230317524815], [6.5, 9.3674969975975966], [6.6000000000000005, 9.404254356406998], [6.7000000000000002, 9.4398093201081146], [6.8000000000000007, 9.4741754258616098], [6.9000000000000004, 9.5073655657074632], [7.0, 9.5393920141694561], [7.1000000000000005, 9.5702664539708611], [7.2000000000000002, 9.6000000000000014], [7.3000000000000007, 9.6286032216516233], [7.4000000000000004, 9.6560861636586477], [7.5, 9.6824583655185421], [7.6000000000000005, 9.7077288796092773], [7.7000000000000002, 9.7319062880814879], [7.8000000000000007, 9.7549987186057585], [7.9000000000000004, 9.7770138590471483], [8.0, 9.7979589711327115], [8.0999999999999996, 9.8178409031721436], [8.2000000000000011, 9.836666101886351], [8.3000000000000007, 9.8544406233941046], [8.4000000000000004, 9.8711701434024519], [8.5, 9.8868599666425947], [8.5999999999999996, 9.9015150355892505], [8.7000000000000011, 9.9151399384980952], [8.8000000000000007, 9.9277389167926859], [8.9000000000000004, 9.9393158718294092], [9.0, 9.9498743710661994], [9.0999999999999996, 9.959417653658269], [9.2000000000000011, 9.9679486355016902], [9.3000000000000007, 9.975469913743412], [9.4000000000000004, 9.9819837707742245], [9.5, 9.9874921777190888], [9.6000000000000014, 9.9919967974374373], [9.7000000000000011, 9.9954989870441189], [9.8000000000000007, 9.9979997999599899], [9.9000000000000004, 9.9994999874993749]
])

#initial point
initial = [0.0, 0.0]

[x, y, gx, gy, err] = simulate(10, l, initial, pi/2, dests, 1.0)

print err
  
plot(x,y,label='Actual path')
axis([0, l, 0, l])
for i in gx:
  plot([i,i], [0,l], 'red')
for i in gy:
  plot([0,l], [i,i], 'red')
destx = [initial[0]]
desty = [initial[1]]
for i in dests:
  destx.append(i[0])
  desty.append(i[1])
plot(destx, desty, 'g--',label='Desired path')
legend(loc=2)
show()

